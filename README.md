# Служба контроля хранилища изображений

Высокоэффективный сервис на Python, который отслеживает указанный каталог и автоматически обрабатывает новые графические файлы, приводя их в соответствие с заданными правилами.

## Ключевые возможности

- **Мониторинг в реальном времени:** Отслеживает появление новых файлов в директории без постоянного сканирования.
- **Интеллектуальное сжатие:** Гарантированно уменьшает размер файла до заданного лимита. Для подбора наилучшего качества используется быстрый алгоритм бинарного поиска.
- **Конвертация в оттенки серого:** Все новые цветные изображения автоматически преобразуются в grayscale.
- **Гибкая настройка:** Директория и максимальный размер файла легко настраиваются в файле `config.ini`.
- **Отказоустойчивость:** Обрабатывает ошибки, связанные с поврежденными файлами или некорректными форматами.

## Технологии

- **Язык:** Python
- **Библиотеки:**
  - `Pillow` — для всех операций с изображениями.
  - `watchdog` — для эффективного мониторинга файловой системы.

## Установка и запуск

### 1. Подготовка

Клонируйте репозиторий на свой компьютер:
```bash
git clone https://github.com/User/image-processing-service.git
cd image-processing-service
```

### 2. Установка зависимостей

Рекомендуется использовать виртуальное окружение.
```bash
# Установка библиотек
pip install -r requirements.txt
```

### 3. Настройка

Откройте файл `config.ini` и укажите **полный путь** к папке, за которой нужно следить, в параметре `Directory`. Вы также можете изменить лимит `MaxSizeKB`.

```ini
[Settings]
Directory = C:/Users/Admin/Desktop/MyPhotos
MaxSizeKB = 1024
```

### 4. Запуск службы

Выполните в терминале команду:
```bash
python main.py
```

Служба запущена и готова к работе. Теперь любой графический файл, который вы добавите в указанную директорию, будет автоматически обработан. Для остановки службы нажмите `Ctrl+C` в терминале.